{% extends "layout.html" %}

{% block nav %}
    <div class="container-fluid">
        <a href="/contact-list/contact-detail/{{ contact_id }}">
            <i class="fa-solid fa-chevron-left fa-xl me-2"></i>
        </a>
    </div>
    <div class="container-fluid">
        <p class="logo fs-3">Edit contact</p>
    </div>
    <div class="container-fluid"></div>
{% endblock %}

{% block main %}
    <section class="section">
        <form id="edit-contact-form" action="/contact-list/contact-detail/contact-edit/{{ contact_id }}" method="post" onsubmit="return validateForm();">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" name="firstname" id="firstname" placeholder="First Name" value="{{ contact.first_name }}">
                <label for="firstname">First name</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" name="lastname" id="lastname" placeholder="Last Name" value="{{ contact.last_name }}">
                <label for="lastname">Last name</label>
            </div>
            <div class="form-floating mb-3">
                <input type="number" class="form-control" name="number" id="number" placeholder="Number" value="{{ contact.phone_number }}">
                <label for="number">Number</label>
            </div>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" name="email" id="email" placeholder="name@example.com" value="{{ contact.email }}">
                <label for="email">Email</label>
            </div>
            <div id="url-container">
                {% for link in links %}
                    <div class="form-floating mb-3">
                        <input type="url" class="form-control" name="url{{ link.id }}" value="{{ link.link_url }}">
                        <label for="url">{{ link.link_type }}</label>
                        <input type="hidden" name="link_id{{ link.id }}" value="{{ link.id }}">
                    </div>
                {% endfor %}
            </div>
            <div class="form-floating mb-3">
                <input type="button" class="form-control" onclick="addURL()" placeholder="https://example.com">
                <label for="addurl"><i class="fas fa-plus"></i> Add URL</label>
            </div>
            <div class="form-floating mb-3">
                <textarea class="form-control" placeholder="Leave a comment here" name="note" id="floatingTextarea" style="height: 100px"></textarea>
                <label for="note">Notes</label>
            </div>
            <button class="btn btn-secondary w-100" type="submit">Update</button>
        </form>
    </section>
{% endblock %}